# ===============================================
# MEDIA SERVER AUTOMATION - CONFIGURATION TEMPLATE
# ===============================================
# Complete environment configuration template
# Copy to .env and configure your credentials
# ===============================================

# =============
# VPN CONFIGURATION
# =============
# ProtonVPN Configuration (REQUIRED - Set your credentials)
PROTON_USER=your_protonvpn_username
PROTON_PASS=your_protonvpn_password
PROTON_CONFIG=proton.conf

# VPN Settings
VPN_SERVICE_PROVIDER=protonvpn
VPN_TYPE=openvpn
SERVER_COUNTRIES=Switzerland
LOG_LEVEL=info

# =============
# SYSTEM CONFIGURATION
# =============
# Timezone (adjust for your location)
TZ=Australia/Sydney

# User/Group IDs (match your system's media user)
PUID=1001
PGID=1001
MEDIA_USER=media
MEDIA_GROUP=media

# =============
# NETWORK CONFIGURATION
# =============
# Network configuration (adjust for your network)
LOCAL_NETWORK=192.168.69.0/24
SERVER_IP=192.168.69.29
GATEWAY_IP=192.168.69.1
NAS_IP=192.168.69.14

# Firewall settings for VPN container
FIREWALL_OUTBOUND_SUBNETS=192.168.69.0/24

# =============
# STORAGE CONFIGURATION
# =============
# NAS Mount Points (adjust for your storage)
NAS_HOST=artopolis.local
NAS_PATH=/Volume2/Media
NAS_MOUNT=/mnt/artie

# Media Library Paths
MEDIA_ROOT=/mnt/artie
DOWNLOADS_PATH=/mnt/artie/downloads
MOVIES_PATH=/mnt/artie/movies
TV_PATH=/mnt/artie/tv
MUSIC_PATH=/mnt/artie/music
BOOKS_PATH=/mnt/artie/books

# Download Subdirectories
DOWNLOADS_COMPLETE=/mnt/artie/downloads/complete
DOWNLOADS_INCOMPLETE=/mnt/artie/downloads/incomplete
DOWNLOADS_WATCH=/mnt/artie/downloads/watch

# Docker Configuration Storage
CONFIG_PATH=./configs
BACKUP_PATH=/opt/media-server/backups

# =============
# SERVICE PORTS
# =============
# Main Servarr Applications
SONARR_PORT=8989
RADARR_PORT=7878
PROWLARR_PORT=9696
BAZARR_PORT=6767

# Download Clients (routed through VPN)
TRANSMISSION_PORT=9091
NZBGET_PORT=6789

# Request Management
OVERSEERR_PORT=5055

# Utilities
FLARESOLVERR_PORT=8191

# Additional Arr Services
CLEANUPARR_PORT=8990
HUNTARR_PORT=8991

# Optional Services
GRAFANA_PORT=3000
PROMETHEUS_PORT=9090
CADVISOR_PORT=8080
NODE_EXPORTER_PORT=9100
LOKI_PORT=3100
PORTAINER_PORT=9443

# =============
# DOWNLOAD CLIENT CREDENTIALS
# =============
# Transmission Settings (REQUIRED - Set secure credentials)
TRANSMISSION_USER=admin
TRANSMISSION_PASS=your_secure_transmission_password
TRANSMISSION_WEB_HOME=/config/web

# NZBGet Settings (REQUIRED - Set secure credentials)
NZBGET_USER=admin
NZBGET_PASS=your_secure_nzbget_password

# =============
# APPLICATION SETTINGS
# =============
# Overseerr Configuration
OVERSEERR_LOG_LEVEL=info

# Flaresolverr Configuration
FLARESOLVERR_LOG_LEVEL=info
FLARESOLVERR_LOG_HTML=false
FLARESOLVERR_CAPTCHA_SOLVER=none

# Watchtower Settings (Auto-update containers)
WATCHTOWER_CLEANUP=true
WATCHTOWER_SCHEDULE=0 0 4 * * *
WATCHTOWER_INCLUDE_RESTARTING=true

# =============
# MONITORING CONFIGURATION
# =============
# Grafana Configuration
GRAFANA_PASSWORD=your_secure_grafana_password
GRAFANA_ADMIN_USER=admin

# Prometheus Settings
PROMETHEUS_RETENTION=15d
PROMETHEUS_SCRAPE_INTERVAL=15s

# VPN Health Monitoring
VPN_CHECK_INTERVAL=60
VPN_RESTART_THRESHOLD=3

# API Keys for Monitoring (Leave empty to auto-generate)
SONARR_API_KEY=
RADARR_API_KEY=
PROWLARR_API_KEY=
BAZARR_API_KEY=
OVERSEERR_API_KEY=

# =============
# HEALTH CHECK CONFIGURATION
# =============
# VPN Health Check
HEALTH_TARGET_ADDRESS=1.1.1.1:53
HEALTH_SUCCESS_WAIT_DURATION=5s

# Service Health Check Intervals
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3

# =============
# SECURITY SETTINGS
# =============
# Docker Security
DOCKER_PIDS_LIMIT=100
DOCKER_MEMORY_LIMIT=512m

# Log Settings
LOG_MAX_SIZE=10m
LOG_MAX_FILES=3

# =============
# ADVANCED VPN SETTINGS
# =============
# VPN Kill Switch (blocks traffic if VPN fails)
VPN_KILL_SWITCH=true

# Port Forwarding (for better torrent performance)
# VPN_PORT_FORWARDING=true
# VPN_PORT_FORWARDING_PROVIDER_PORTS=

# DNS Settings (use secure DNS through VPN)
VPN_DNS_1=1.1.1.1
VPN_DNS_2=1.0.0.1

# =============
# BACKUP CONFIGURATION
# =============
# Automated backup settings
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=7
BACKUP_ENCRYPTION=true
BACKUP_LOCATION=/mnt/artie/backups/media-server

# =============
# MIGRATION SETTINGS
# =============
# Source paths for migration from native installations
NATIVE_SONARR_CONFIG=/var/lib/sonarr
NATIVE_RADARR_CONFIG=/var/lib/radarr  
NATIVE_PROWLARR_CONFIG=/var/lib/prowlarr
NATIVE_BAZARR_CONFIG=/var/lib/bazarr
NATIVE_TRANSMISSION_CONFIG=/var/lib/transmission-daemon/.config/transmission-daemon
NATIVE_NZBGET_CONFIG=/opt/nzbget

# =============
# DEVELOPMENT SETTINGS
# =============
# Set to 'true' for development mode (more verbose logging, no restart policies)
DEVELOPMENT_MODE=false

# Container restart policy
RESTART_POLICY=unless-stopped

# =============
# AUTO-CONFIGURATION SETTINGS
# =============
# Enable automatic service integration (recommended)
AUTO_CONFIGURE_PROWLARR=true
AUTO_CONFIGURE_BAZARR=true
AUTO_CONFIGURE_OVERSEERR=true
AUTO_CONFIGURE_UNPACKERR=true

# Prowlarr Integration Settings
PROWLARR_AUTO_SYNC=true
PROWLARR_SYNC_INTERVAL=6h

# Bazarr Integration Settings
BAZARR_AUTO_SYNC=true
BAZARR_SUBTITLE_PROVIDERS=opensubtitles,subscene,tvsubtitles

# =============
# NOTES
# =============
# 1. Replace all 'your_*' placeholders with actual credentials
# 2. ProtonVPN credentials are required for download client VPN protection
# 3. Set strong passwords for all web interfaces
# 4. Ensure ProtonVPN configuration file exists in ./configs/gluetun/
# 5. All paths are mapped to your storage system
# 6. Timezone and network settings should match your environment
# 7. User/Group IDs should match your system's media user
# 8. API keys will be auto-generated if left empty and AUTO_CONFIGURE_* is true
# 9. For migration, set NATIVE_*_CONFIG paths to your existing installations
# 10. Enable DEVELOPMENT_MODE=true for testing and debugging